{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <!-- Boxicons -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- My CSS -->
    <!--<link rel="stylesheet" href="style.css">-->

    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">


    <title>Vivid Mind Automate</title>
</head>

<body>
    <!-- LEFT SIDEBAR -->
    <section id="sidebar" class="hide" onclick="toggleLeftSidebar()">
        <img class="custom-side-icon" src="/static/VIVIDMIND.png"
            style="width: 58px; display: block; margin: auto; margin-top: 8%" />
        <br />
        <ul class="side-menu top">
            <li class="active">
                <a href="index2">
                    <i class="bx bxs-dashboard"></i>
                    <span class="text">Dashboard</span>
                </a>
            </li>
            <li class="has-submenus116">
                <a href="#">
                    <i class='bx bx-shape-circle'></i>
                    <span class="text">Social Apps</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul class="submenus116" style="background-color:transparent; height:13%;">
                    <li>
                        <a style="margin-left: 7%" href="insta_module_page">Instagram</a><br>
                        <a style="margin-left: 7%" href="tiktok_module_page">TikTok</a>
                    </li>
                </ul>
            </li>
            <li class="has-submenus11">
                <a href="#">
                    <i class="bx bxs-network-chart"></i>
                    <span class="text">Proxy Management</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul class="submenus11" style="background-color:transparent; height:13%;">
                    <li>
                        <a style="margin-left: 7%" href="available_proxies">Available Proxies</a><br>
                        <a style="margin-left: 7%" href="add_proxy">Add New Proxy</a>
                    </li>
                </ul>
            </li>
            <li class="has-submenus1">
                <a href="#">
                    <i class='bx bx-devices'></i>
                    <span class="text">Device Management</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul class="submenus1" style="background-color:transparent; height:13%;">
                    <li>
                        <a style="margin-left: 7%;" href="available_devices">Available Devices</a><br>
                        <a style="margin-left: 7%" href="add_device">Add New Device</a>
                    </li>
                </ul>
            </li>
            <li class="has-submenu">
                <a href="#">
                    <i class='bx bxs-server'></i>
                    <span class="text">Server Management</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul class="submenu" style="background-color:transparent; height:13%;">
                    <li>
                        <a style="margin-left: 7%" href="available_server">Available Server</a><br>
                        <a style="margin-left: 7%" href="add_server">Add New Server</a>
                    </li>
                </ul>
            </li>
            <li class="has-submenus">
                <a href="#">
                    <i class="bx bxs-user"></i>
                    <span class="text">Automation Profiles</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul class="submenus" style="background-color:transparent; height:20%;">
                    <li>
                        <a style="margin-left: 7%" href="profile">Profiles</a><br>
                        <a style="margin-left: 7%" href="add_automation_profiles">Create Profiles</a><br>
                        <a style="margin-left: 7%" href="AutomationTask">Automation Task</a>
                    </li>
                </ul>
            </li>
            <li>
                <a href="log">
                    <i class="bx bxs-notepad"></i>
                    <span class="text">Logs</span>
                </a>
            </li>
            <li >
                <a id="integration" href="#integration">
                    <i class='bx bxs-cylinder'></i>
                    <span class="text">Integration</span>
                    <i class="bx bx-chevron-down"></i>
                </a>
                <ul id="phone-providers" class="submenu" style="background-color: transparent;">
                    <li class="has-submenu">
                        <a href="#phone-providers">
                            <span class="text">Phone Providers</span>
                            <i class="bx bx-chevron-down"></i>
                        </a>
                        <ul id="smspva" class="subsubmenu">
                            <li>
                                <a href="SMSPVA">SMSPVA</a>
                            </li>
                        </ul>
                    </li>
                    <br>
                    <li class="has-submenu">
                        <a href="#captcha-service">
                            <span class="text">Captcha Service</span>
                            <i class="bx bx-chevron-down"></i>
                        </a>
                        <ul id="captcha" class="subsubmenu">
                            <li>
                                <a href="Anti-Captcha">Anti-Captcha</a>
                            </li>
                        </ul>
                    </li>
                    <br><br>
                </ul>
            </li>
        </ul>
    </section>
    <!-- LEFT SIDEBAR -->
    <!-- CONTENT -->
    <section id="content" style="background-color: #fcfbfa; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
        <nav>
            <!-- Your website/logo name -->
            <span style="color: white;" class="nav-heading">.</span>

            <!-- Notification bell icon -->
            <i style="color: #858796; margin-right: 1%;" class='bx bxs-bell'></i>

            <!-- User information, profile image, and notification bell icon -->
            <div class="user-info">
                {% if user.is_authenticated %}
                <!-- Display the logged-in username -->
                <span class="username">Hello, {{ user.username }}</span>
                <!-- Display the profile image or first letter of username if no image -->
                {% if user.avatar %}
                <img src="{{ user.avatar.url }}" alt="Profile Image" class="profile-image">
                {% else %}
                <div class="no-profile-image">
                    {{ user.username|first|upper }}
                </div>
                {% endif %}
                <!-- Logout link -->
                <a style="color: #858796; font-size: 18px; margin-top:3px;" href="{% url 'logout' %}"> <i class='bx bx-log-out' ></i> </a>
                {% else %}
                <!-- Display login or signup links if the user is not authenticated -->
                <a href="{% url 'login' %}">Login</a>
                {% endif %}
            </div>
            <!-- Publish button (uncomment if needed) -->
            <!-- <a href="#" class="publish-btn" onclick="submitForm()">
                <i class='bx bxl-sketch'></i>
                <span class="text">Publish</span>
            </a> -->
        </nav>

        <!-- NAVBAR -->
        <!-- MAIN -->
        <main>
            {% block content %}{% endblock %}
        </main>
        <!-- MAIN -->
        <footer>
            <p>&copy; 2024 VividMind. All Rights Reserved.</p>
        </footer>
    </section>
    <!--<script src="script.js"></script>-->
    <script src="{% static 'script.js' %}"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var integrationLink = document.querySelector("#integration");
            var phoneProvidersSubMenu = document.querySelector("#phone-providers");
            var smspvaSubMenu = document.querySelector("#smspva");
            var captchaSubMenu = document.querySelector("#captcha");
        
            var isIntegrationHovered = false;
        
            integrationLink.addEventListener("mouseenter", function () {
                isIntegrationHovered = true;
                phoneProvidersSubMenu.style.display = "block";
            });
        
            integrationLink.addEventListener("mouseleave", function () {
                if (!isIntegrationHovered) {
                    phoneProvidersSubMenu.style.display = "none";
                    smspvaSubMenu.style.display = "none";
                    captchaSubMenu.style.display = "none";
                }
            });
        
            phoneProvidersSubMenu.addEventListener("mouseenter", function () {
                isIntegrationHovered = true;
                smspvaSubMenu.style.display = "block";
                captchaSubMenu.style.display = "block";
            });
        
            phoneProvidersSubMenu.addEventListener("mouseleave", function () {
                isIntegrationHovered = false;
            });
        
            smspvaSubMenu.addEventListener("mouseenter", function () {
                isIntegrationHovered = true;
            });
        
            smspvaSubMenu.addEventListener("mouseleave", function () {
                isIntegrationHovered = false;
            });
        
            captchaSubMenu.addEventListener("mouseenter", function () {
                isIntegrationHovered = true;
            });
        
            captchaSubMenu.addEventListener("mouseleave", function () {
                isIntegrationHovered = false;
            });
        
            document.addEventListener("mouseover", function (event) {
                if (!integrationLink.contains(event.target) && !phoneProvidersSubMenu.contains(event.target) && !smspvaSubMenu.contains(event.target) && !captchaSubMenu.contains(event.target)) {
                    phoneProvidersSubMenu.style.display = "none";
                    smspvaSubMenu.style.display = "none";
                    captchaSubMenu.style.display = "none";
                    isIntegrationHovered = false;
                }
            });
        });
    </script>
</body>

</html>